@page "/room/{RoomName}"
@inject NavigationManager navigationManager
@inject RoomContext dbContext

<PageTitle>@GetTitle()</PageTitle>



<MudButton Href="@navigationManager.BaseUri" Color="Color.Primary" Variant="Variant.Outlined">Powróć</MudButton>

<MudText Style="margin: 15px 0px 15px 0px;font-weight:bold;">@GetRoomDescription()</MudText>

<MudCalendar></MudCalendar>

@code {
    [Parameter]
    [EditorRequired]
    public string RoomName { get; set; }

    string GetTitle() => "Sala " + RoomName;
    string GetRoomDescription()
    {
        var room = dbContext.Rooms.FirstOrDefault(r => r.Name == RoomName);
        return room is null ? "" : $"Sala {RoomName}, Liczba miejsc: {room.NumberOfSeats}, Czy są komputery: {(room.ComputersAvailable ? "TAK" : "NIE")}, Nadzorca sali: { room.SupervisorFullName()}";
    }

    string calendarData
    {
        get
        {
            return "";
            // return dbContext.Rooms.First(a => a.Name == RoomName).Reservations;
        }
    }
}
